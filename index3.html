<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>é“ç„æ–‡é›† - ä¼˜åŒ–ç‰ˆ</title>
    <style>
        /* å…¨å±€æ ·å¼ */
        body {
            font-family: "æ¥·ä½“", serif;
            display: flex;
            margin: 0;
            background: #f8f4e9;
            color: #333;
            min-height: 100vh;
        }
        
        /* å·¦ä¾§ç›®å½• */
        .sidebar {
            width: 300px;
            height: 100vh;
            overflow-y: auto;
            background: #e8e0d0;
            padding: 20px;
            box-shadow: 2px 0 5px rgba(0,0,0,0.1);
            position: fixed;
            transition: all 0.3s;
        }
        
        .sidebar h2 {
            text-align: center;
            color: #8b4513;
            border-bottom: 1px solid #cdaa7d;
            padding-bottom: 10px;
            margin-top: 0;
        }
        
        .article-list {
            list-style: none;
            padding: 0;
            margin: 0;
        }
        
        .article-list li {
            margin: 5px 0;
        }
        
        .article-list li a {
            display: block;
            padding: 12px 15px;
            background: #f0e6d2;
            color: #5a3921;
            text-decoration: none;
            border-radius: 3px;
            transition: all 0.3s;
            touch-action: manipulation;
        }
        
        .article-list li a:hover,
        .article-list li a.active  {
            background: #cdaa7d;
            color: white;
        }
        
        .article-number {
            display: inline-block;
            width: 25px;
            text-align: right;
            margin-right: 10px;
            color: #8b4513;
            font-weight: bold;
        }
        
        /* å³ä¾§æ–‡ç«  */
        .content {
            flex: 1;
            margin-left: 340px;
            padding: 30px;
            max-width: 800px;
        }
        
        /* æ–‡é›†æ ‡é¢˜ */
        .collection-header {
            text-align: center;
            margin-bottom: 30px;
            border-bottom: 2px solid #8b4513;
            padding-bottom: 20px;
        }
        
        .collection-header h1 {
            color: #5a3921;
            font-size: 2.5em;
            text-shadow: 1px 1px 2px rgba(0,0,0,0.1);
            margin-bottom: 10px;
            margin-top: 0;
        }
        
        /* æœç´¢æ  */
        .search-bar {
            margin-top: 15px;
            display: flex;
            justify-content: center;
        }
        
        .search-bar input {
            padding: 8px 15px;
            width: 300px;
            border: 1px solid #cdaa7d;
            border-radius: 4px 0 0 4px;
            font-family: "æ¥·ä½“", serif;
            font-size: 16px;
            outline: none;
        }
        
        .search-bar button {
            padding: 8px 15px;
            background: #8b4513;
            color: white;
            border: none;
            border-radius: 0 4px 4px 0;
            cursor: pointer;
            font-family: "æ¥·ä½“", serif;
            font-size: 16px;
            transition: background 0.3s;
        }
        
        .search-bar button:hover {
            background: #5a3921;
        }
        
        /* æ–‡ç« å†…å®¹ */
        .article-content {
            line-height: 1.8;
            font-size: 18px;
            padding-bottom: 80px; /* ä¸ºæ‚¬æµ®æŒ‰é’®ç•™å‡ºç©ºé—´ */
        }
        
        .article-title {
            color: #5a3921;
            border-left: 5px solid #8b4513;
            padding-left: 15px;
            margin: 30px 0 20px 0;
        }
        
        .article-meta {
            color: #888;
            font-size: 14px;
            margin-bottom: 30px;
            display: flex;
            gap: 15px;
            flex-wrap: wrap;
        }
        
        .article-meta span {
            display: flex;
            align-items: center;
        }
        
        .article-meta span::before {
            content: "â€¢";
            margin-right: 5px;
        }
        
        /* å…³é”®è¯é«˜äº® */
        .highlight {
            background-color: #ffe0b2;
            padding: 0 3px;
            border-radius: 3px;
        }
        
        /* åŠ è½½æŒ‡ç¤º */
        .loading {
            text-align: center;
            padding: 50px;
            color: #8b4513;
            font-size: 1.2em;
        }
        
        /* æ‚¬æµ®å¯¼èˆªæŒ‰é’® */
        .article-float-nav {
            position: fixed;
            bottom: 0;
            left: 0;
            right: 0;
            display: flex;
            justify-content: space-around;
            padding: 10px;
            background: rgba(248, 244, 233, 0.9);
            border-top: 1px dashed #cdaa7d;
            z-index: 90;
            display: none;
        }
        
        .article-float-nav a {
            color: #8b4513;
            text-decoration: none;
            padding: 8px 15px;
            border-radius: 20px;
            background: #f0e6d2;
            transition: all 0.3s;
        }
        
        .article-float-nav a:hover {
            background: #cdaa7d;
            color: white;
            text-decoration: none;
        }
        
        /* é¡µé¢å¯¼èˆªæ ·å¼ */
        .page-navigation {
            text-align: center;
            margin: 20px 0;
            padding: 10px;
            background: #f0e6d2;
            border-radius: 5px;
        }
        
        .page-link {
            margin: 0 10px;
            padding: 5px 10px;
            color: #5a3921;
            text-decoration: none;
            border-radius: 3px;
            transition: background 0.3s;
        }
        
        .page-link:hover {
            background: #cdaa7d;
            color: white;
        }
        
        .page-link.active {
            background: #8b4513;
            color: white;
        }
        
        /* ç§»åŠ¨ç«¯é€‚é… */
        @media screen and (max-width: 768px) {
            body {
                flex-direction: column;
            }
            .sidebar {
                width: 100%;
                height: auto;
                position: sticky;
                top: 0;
                z-index: 100;
                padding: 10px;
                max-height: 50vh;
                overflow-y: auto;
            }
            .content {
                margin-left: 0;
                padding: 15px;
            }
            .collection-header h1 {
                font-size: 1.8em;
            }
            .search-bar input {
                width: 70%;
            }
            
            /* æ ‡ç­¾é¡µå¯¼èˆªæ ·å¼ */
            .tab-nav {
                display: flex;
                justify-content: space-around;
                border-bottom: 2px solid #cdaa7d;
                margin-bottom: 15px;
            }
            .tab-nav button {
                flex: 1;
                padding: 10px;
                background: transparent;
                border: none;
                color: #5a3921;
                cursor: pointer;
                font-family: "æ¥·ä½“", serif;
                transition: all 0.3s;
            }
            .tab-nav button.active {
                color: #8b4513;
                border-bottom: 2px solid #8b4513;
            }
            .tab-content {
                display: none;
            }
            .tab-content.active {
                display: block;
            }
            
            /* æ˜¾ç¤ºç§»åŠ¨ç«¯æ‚¬æµ®å¯¼èˆª */
            .article-float-nav {
                display: flex;
            }
            
            /* ç§»åŠ¨ç«¯å¯¼èˆªæ ·å¼ä¼˜åŒ– */
            .page-navigation {
                display: flex;
                flex-wrap: wrap;
                justify-content: center;
                gap: 5px;
            }
            
            .page-link {
                margin: 0;
                padding: 8px 12px;
                font-size: 14px;
            }
        }
        
        /* æ‰“å°æ ·å¼ */
        @media print {
            .sidebar, .search-bar {
                display: none;
            }
            .content {
                margin: 0;
                width: 100%;
            }
        }
    </style>
</head>
<body>
    <!-- å·¦ä¾§ç›®å½• -->
    <aside class="sidebar">
        <div class="author-link">
            <a href="cknjianjie.html" style="display: block; text-align: center; padding: 10px; background: #8b4513; color: white; margin-bottom: 15px; border-radius: 5px;"> 
                ğŸ“ å…³äºä½œè€…ç‰ˆæƒ 
            </a>
        </div>
        
        <ul class="article-list" id="articleList">
            <!-- åŠ¨æ€ç”Ÿæˆç›®å½• -->
        </ul>
    </aside>
    
    <!-- å³ä¾§æ–‡ç«  -->
    <main class="content" id="articleContent">
        <header class="collection-header">
            <h1 lang="zh">é“ç„æ–‡é›†</h1>
            
            <!-- é¡µé¢å¯¼èˆª -->
            <nav class="page-navigation">
                <a href="index.html" class="page-link">é¦–é¡µ</a>
                <a href="index2.html" class="page-link">ç¬¬äºŒé¡µ</a>
                <a href="index3.html" class="page-link">ç¬¬ä¸‰é¡µ</a>
            </nav>
            
            <div role="search" class="search-bar">
                <input type="search" id="searchInput" placeholder="è¾“å…¥å…³é”®è¯æœç´¢..." aria-label="æœç´¢æ–‡ç« ">
                <button onclick="searchArticles()">æœç´¢</button>
            </div>
        </header>
        
        <div class="tab-nav" style="display: none;">
            <button class="tab-btn active" onclick="switchTab('catalog')">ç›®å½•</button>
            <button class="tab-btn" onclick="switchTab('article')">æ–‡ç« </button>
        </div>
        
        <div class="tab-content active" id="catalogTab">
            <!-- ç›®å½•å†…å®¹å·²åœ¨ä¾§è¾¹æ æ˜¾ç¤º -->
        </div>
        
        <div class="tab-content" id="articleTab">
            <nav class="article-nav" style="display: none;">
                <a href="#" id="prevArticle">â† ä¸Šä¸€ç¯‡</a>
                <a href="#" id="nextArticle">ä¸‹ä¸€ç¯‡ â†’</a>
            </nav>
            
            <article>
                <h1 class="article-title" id="articleTitle">æ¬¢è¿æ¥åˆ°é“ç„æ–‡é›†</h1>
                <div class="article-meta" id="articleMeta">
                    <span>è¯·ä»å·¦ä¾§é€‰æ‹©æ–‡ç« </span>
                </div>
                <div class="article-content" id="articleText">
                    <p>è¯·ç­‰å¾…åŠ è½½...</p>
                </div>
            </article>
            
            <nav class="article-nav" style="display: none;">
                <a href="#" id="prevArticleBottom">â† ä¸Šä¸€ç¯‡</a>
                <a href="#" id="nextArticleBottom">ä¸‹ä¸€ç¯‡ â†’</a>
            </nav>
        </div>
    </main>
    
    <!-- æ‚¬æµ®å¯¼èˆª -->
    <div class="article-float-nav">
        <a href="#" id="mobilePrevArticle">â† ä¸Šä¸€ç¯‡</a>
        <a href="#" id="mobileNextArticle">ä¸‹ä¸€ç¯‡ â†’</a>
    </div>
 
    <script>
        // æ–‡ç« æ•°æ® 
        const articles = [

    {
        "id": 301,
        "title": "\u300aä¸‰æ•™ç©ºæ— è§‚\u300b",
        "category": "è¯—",
        "date": "ä¹™å·³å¹´äº”æœˆåä¸‰",
        "content": "<p>å„’ç©ºåœ¨æ ¼ç‰©Â·é“æ— åœ¨è‡ªç„¶Â·ä½›ç©ºæ— ç›¸ä¸­<br>é”®ç›˜æ•²å‡ºä¸‰æ•™æœˆÂ·é¼ æ ‡ç‚¹å¼€ä¸€å‘³ç¦…<br>è«é—®å¤šå°‘ç¯‡ç« æ»¡Â·ä¸”çœ‹å½“ä¸‹å­—å­—è²</p>"
    },
    {
        "id": 302,
        "title": "\u300aæ ¼ç‰©ç©º\u300b",
        "category": "è¯—",
        "date": "ä¹™å·³å¹´äº”æœˆåä¸‰",
        "content": "<p>æ ¼å°½ä»£ç ä¸‰åƒè¡ŒÂ·ç‰©æˆ‘ä¸¤å¿˜è§æ€§å…‰<br>å››ç™¾æ–‡ç« æœªè¶³é“Â·ä¸­åº¸æ–¹æ˜¯å¦™æ–‡ç« </p>"
    }
        ];
 
        // å½“å‰æ–‡ç« ç´¢å¼• 
        let currentArticleIndex = 0;
        let searchTimer = null;
        
        // åˆå§‹åŒ–åŠ è½½ 
        document.addEventListener('DOMContentLoaded',  () => {
            // é¢„åŠ è½½æ–‡ç«  
            articles.forEach(article  => {
                const link = document.createElement('link'); 
                link.rel  = 'prefetch';
                link.href  = `#article=${article.id}`; 
                document.head.appendChild(link); 
            });
            
            renderArticleList();
            if (articles.length  > 0) {
                loadArticle(0);
            }
            
            // æœç´¢æ¡†é˜²æŠ–ç›‘å¬ 
            document.getElementById('searchInput').addEventListener('input',  () => {
                clearTimeout(searchTimer);
                searchTimer = setTimeout(searchArticles, 300);
            });
            
            // åˆå§‹åŒ–æŠ˜å ç›®å½•
            initFoldableCatalog();
            
            // åˆå§‹åŒ–ç§»åŠ¨ç«¯æ ‡ç­¾é¡µ
            initMobileTabs();
            
            // æ·»åŠ æ»šåŠ¨ç›‘å¬ï¼Œæ»‘åŠ¨æ–‡ç« æ—¶è‡ªåŠ¨æ”¶å›ç›®å½•
            window.addEventListener('scroll', function() {
                const isMobile = window.innerWidth <= 768;
                const articleList = document.getElementById('articleList');
                
                if (isMobile && articleList.style.display === 'block') {
                    articleList.style.display = 'none';
                    document.getElementById('fold-icon').textContent = 'â–¶';
                }
            });
            
            // é«˜äº®å½“å‰é¡µé¢å¯¼èˆªé“¾æ¥
            const currentPage = window.location.pathname.split('/').pop();
            const pageLinks = document.querySelectorAll('.page-link');
            
            pageLinks.forEach(link => {
                if (link.getAttribute('href') === currentPage) {
                    link.classList.add('active');
                }
            });
        });
        
        // åˆå§‹åŒ–æŠ˜å ç›®å½•
        function initFoldableCatalog() {
            const sidebar = document.querySelector('.sidebar');
            const oldTitle = sidebar.querySelector('h2');
            if (oldTitle) oldTitle.remove(); // ç§»é™¤åŸæœ‰æ ‡é¢˜
            
            const catalogHeader = document.createElement('div');
            catalogHeader.className = 'catalog-header';
            catalogHeader.innerHTML = `
                <h2 style="margin-top: 0; cursor: pointer;" onclick="toggleCatalog()">
                    ğŸ“œ æ–‡ç« ç›®å½• <span id="fold-icon">â–¼</span>
                </h2>
            `;
            
            const articleList = document.getElementById('articleList');
            articleList.parentElement.insertBefore(catalogHeader, articleList);
            
            // å½“æ–‡ç« æ•°è¶…è¿‡5ç¯‡æ—¶è‡ªåŠ¨æŠ˜å 
            if (articles.length > 5) { 
                articleList.style.display = 'none';
                document.getElementById('fold-icon').textContent = 'â–¶';
            }
        }
        
        // åˆ‡æ¢ç›®å½•æŠ˜å çŠ¶æ€
        function toggleCatalog() {
            const articleList = document.getElementById('articleList');
            const foldIcon = document.getElementById('fold-icon');
            
            if (articleList.style.display === 'none') {
                articleList.style.display = 'block';
                foldIcon.textContent = 'â–¼';
                
                // åœ¨ç§»åŠ¨ç«¯è°ƒæ•´ç›®å½•é«˜åº¦
                if (window.innerWidth <= 768) {
                    const sidebar = document.querySelector('.sidebar');
                    sidebar.style.maxHeight = 'auto';
                }
            } else {
                articleList.style.display = 'none';
                foldIcon.textContent = 'â–¶';
                
                // åœ¨ç§»åŠ¨ç«¯è°ƒæ•´ç›®å½•é«˜åº¦
                if (window.innerWidth <= 768) {
                    const sidebar = document.querySelector('.sidebar');
                    sidebar.style.maxHeight = '0';
                }
            }
        }
        
        // ä¿®æ”¹ç§»åŠ¨ç«¯æ ‡ç­¾é¡µåˆå§‹åŒ–å‡½æ•°
        function initMobileTabs() {
            const isMobile = window.innerWidth <= 768;
            const tabNav = document.querySelector('.tab-nav');
            const catalogTab = document.getElementById('catalogTab');
            const articleTab = document.getElementById('articleTab');
            const sidebar = document.querySelector('.sidebar');
            
            if (isMobile) {
                tabNav.style.display = 'flex';
                sidebar.style.display = 'block';
                catalogTab.style.display = 'block';
                
                // ç§»åŠ¨ç«¯ç›®å½•ç‚¹å‡»äº‹ä»¶
                document.querySelectorAll('.article-list a').forEach(link => {
                    link.onclick = function(e) {
                        e.preventDefault();
                        loadArticle(Array.from(document.querySelectorAll('.article-list a')).indexOf(this));
                        switchTab('article');
                    };
                });
                
                // ç¡®ä¿ç›®å½•æŠ˜å åŠŸèƒ½æ­£å¸¸
                const articleList = document.getElementById('articleList');
                if (articles.length > 5) {
                    articleList.style.display = 'none';
                    document.getElementById('fold-icon').textContent = 'â–¶';
                } else {
                    articleList.style.display = 'block';
                    document.getElementById('fold-icon').textContent = 'â–¼';
                }
            }
        }
        
        // åˆ‡æ¢æ ‡ç­¾é¡µ
        function switchTab(tabId) {
            document.querySelectorAll('.tab-btn').forEach(btn => btn.classList.remove('active'));
            document.querySelectorAll('.tab-content').forEach(tab => tab.classList.remove('active'));
            
            document.querySelector(`.tab-btn[onclick="switchTab('${tabId}')"]`).classList.add('active');
            document.getElementById(tabId + 'Tab').classList.add('active');
            
            // æ»šåŠ¨åˆ°æ–‡ç« å†…å®¹åŒºåŸŸ
            if (tabId === 'article') {
                const articleContent = document.getElementById('articleContent');
                articleContent.scrollIntoView({ behavior: 'smooth', block: 'start' });
            }
        }
        
        // æ¸²æŸ“ç›®å½• 
        function renderArticleList() {
            const listContainer = document.getElementById('articleList');  
            listContainer.innerHTML  = articles.map(article  => `
                <li>
                    <a href="#" onclick="loadArticle(${articles.indexOf(article)})">  
                        <span class="article-number">${article.id}.</span>  
                        ${article.title}  
                        <small>(${article.category})</small>  
                    </a>
                </li>
            `).join('');
        }
        
        // åŠ è½½æ–‡ç«  
        function loadArticle(index) {
            document.getElementById('articleText').innerHTML  = '<div class="loading">ğŸ•¯ï¸ æ–‡ç« åŠ è½½ä¸­...</div>';
            
            setTimeout(() => {
                currentArticleIndex = index;
                const article = articles[index];
                
                document.getElementById('articleTitle').textContent  = article.title;  
                document.getElementById('articleMeta').innerHTML  = `
                    <span>åˆ†ç±»ï¼š${article.category}</span>  
                    <span>æ—¥æœŸï¼š${article.date}</span>  
                    <span>ç¼–å·ï¼š${article.id}</span>  
                `;
                document.getElementById('articleText').innerHTML  = article.content;  
                
                updateNavButtons();
                
                // æ›´æ–°ç›®å½•é«˜äº® 
                document.querySelectorAll('.article-list  a').forEach((a, i) => {
                    a.classList.toggle('active',  i === index);
                });
                
                // æ˜¾ç¤ºæ–‡ç« æ ‡ç­¾é¡µï¼ˆç§»åŠ¨ç«¯ï¼‰
                if (window.innerWidth <= 768) {
                    switchTab('article');
                }
            }, 100);
        }
        
        // æ›´æ–°å¯¼èˆªæŒ‰é’® 
        function updateNavButtons() {
            const prevButtons = document.querySelectorAll('#prevArticle,  #prevArticleBottom, #mobilePrevArticle');
            const nextButtons = document.querySelectorAll('#nextArticle,  #nextArticleBottom, #mobileNextArticle');
            
            // ä¸Šä¸€ç¯‡æŒ‰é’® 
            prevButtons.forEach(btn  => {
                if (currentArticleIndex > 0) {
                    btn.style.visibility  = 'visible';
                    btn.onclick  = (e) => {
                        e.preventDefault();  
                        loadArticle(currentArticleIndex - 1);
                    };
                } else {
                    btn.style.visibility  = 'hidden';
                    btn.onclick  = null;
                }
            });
            
            // ä¸‹ä¸€ç¯‡æŒ‰é’® 
            nextButtons.forEach(btn  => {
                if (currentArticleIndex < articles.length  - 1) {
                    btn.style.visibility  = 'visible';
                    btn.onclick  = (e) => {
                        e.preventDefault();  
                        loadArticle(currentArticleIndex + 1);
                    };
                } else {
                    btn.style.visibility  = 'hidden';
                    btn.onclick  = null;
                }
            });
        }
        
        // æœç´¢åŠŸèƒ½ 
        function searchArticles() {
            const keyword = document.getElementById('searchInput').value.trim().toLowerCase();  
            const filtered = articles.filter(article  => 
                article.title.toLowerCase().includes(keyword)  || 
                article.content.toLowerCase().includes(keyword)  ||
                article.category.toLowerCase().includes(keyword)
            );
            
            const listContainer = document.getElementById('articleList');  
            listContainer.innerHTML  = filtered.map(article  => `
                <li>
                    <a href="#" onclick="loadArticle(${articles.indexOf(article)})">  
                        <span class="article-number">${article.id}.</span>  
                        ${highlightKeyword(article.title,  keyword)}
                        <small>(${article.category})</small>  
                    </a>
                </li>
            `).join('');
            
            // å¦‚æœæœç´¢ç»“æœä¸ºç©º
            if (filtered.length === 0) {
                listContainer.innerHTML = `
                    <li style="text-align: center; padding: 15px; color: #8b4513;">
                        æœªæ‰¾åˆ°åŒ…å«"${keyword}"çš„æ–‡ç« 
                    </li>
                `;
            }
        }
        
        // å…³é”®è¯é«˜äº® 
        function highlightKeyword(text, keyword) {
            if (!keyword) return text;
            return text.replace(
                new RegExp(`(${keyword})`, 'gi'),
                '<span class="highlight">$1</span>'
            );
        }
        
        // é”®ç›˜å¯¼èˆª 
        document.addEventListener('keydown',  (e) => {
            if (e.key  === 'ArrowLeft' && currentArticleIndex > 0) {
                loadArticle(currentArticleIndex - 1);
            } else if (e.key  === 'ArrowRight' && currentArticleIndex < articles.length  - 1) {
                loadArticle(currentArticleIndex + 1);
            }
        });
    </script>
</body>
</html>